"use strict";var e=require("react"),t=require("@material-ui/core"),r=require("@material-ui/lab"),n=require("@material-ui/icons"),i=require("react/jsx-runtime"),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=t.makeStyles((function(e){return t.createStyles({treeItem:{padding:e.spacing(1),display:"flex",alignItems:"center"},itemGroup:{marginLeft:7,paddingLeft:18,borderLeft:"1px solid #CCC"},clickable:{color:e.palette.primary.main,"&:hover":{textDecoration:"underline"}},secondaryText:{color:"rgba(0, 0, 0, 0.54)"}})}));const a=e.createContext({dragDropManager:void 0});function c(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var u="function"==typeof Symbol&&Symbol.observable||"@@observable",d=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+d(),REPLACE:"@@redux/REPLACE"+d(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+d()}};function g(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";var r=function(e){return"function"==typeof e.constructor?e.constructor.name:null}(e);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}function h(e){var t=typeof e;return"production"!==process.env.NODE_ENV&&(t=g(e)),t}function f(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("production"===process.env.NODE_ENV?c(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("production"===process.env.NODE_ENV?c(1):"Expected the enhancer to be a function. Instead, received: '"+h(r)+"'");return r(f)(e,t)}if("function"!=typeof e)throw new Error("production"===process.env.NODE_ENV?c(2):"Expected the root reducer to be a function. Instead, received: '"+h(e)+"'");var i=e,o=t,s=[],a=s,d=!1;function g(){a===s&&(a=s.slice())}function p(){if(d)throw new Error("production"===process.env.NODE_ENV?c(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function v(e){if("function"!=typeof e)throw new Error("production"===process.env.NODE_ENV?c(4):"Expected the listener to be a function. Instead, received: '"+h(e)+"'");if(d)throw new Error("production"===process.env.NODE_ENV?c(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var t=!0;return g(),a.push(e),function(){if(t){if(d)throw new Error("production"===process.env.NODE_ENV?c(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");t=!1,g();var r=a.indexOf(e);a.splice(r,1),s=null}}}function m(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error("production"===process.env.NODE_ENV?c(7):"Actions must be plain objects. Instead, the actual type was: '"+h(e)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(void 0===e.type)throw new Error("production"===process.env.NODE_ENV?c(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(d)throw new Error("production"===process.env.NODE_ENV?c(9):"Reducers may not dispatch actions.");try{d=!0,o=i(o,e)}finally{d=!1}for(var t=s=a,r=0;r<t.length;r++){(0,t[r])()}return e}return m({type:l.INIT}),(n={dispatch:m,subscribe:v,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw new Error("production"===process.env.NODE_ENV?c(10):"Expected the nextReducer to be a function. Instead, received: '"+h(e));i=e,m({type:l.REPLACE})}})[u]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error("production"===process.env.NODE_ENV?c(11):"Expected the observer to be an object. Instead, received: '"+h(e)+"'");function r(){e.next&&e.next(p())}return r(),{unsubscribe:t(r)}}})[u]=function(){return this},e},n}function p(e,t,...r){if("undefined"!=typeof process&&"production"===process.env.NODE_ENV&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function v(e){return"object"==typeof e}const m="dnd-core/INIT_COORDS",y="dnd-core/BEGIN_DRAG",D="dnd-core/PUBLISH_DRAG_SOURCE",b="dnd-core/HOVER",O="dnd-core/DROP",E="dnd-core/END_DRAG";function I(e,t){return{type:m,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const T={type:m,payload:{clientOffset:null,sourceClientOffset:null}};function S(e){return function(t=[],r={publishSource:!0}){const{publishSource:n=!0,clientOffset:i,getSourceClientOffset:o}=r,s=e.getMonitor(),a=e.getRegistry();e.dispatch(I(i)),function(e,t,r){p(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){p(r.getSource(e),"Expected sourceIds to be registered.")}))}(t,s,a);const c=function(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,s);if(null==c)return void e.dispatch(T);let u=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){p("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),u=o(c)}e.dispatch(I(i,u));const d=a.getSource(c).beginDrag(s,c);if(null==d)return;!function(e){p(v(e),"Item must be an object.")}(d),a.pinSource(c);const l=a.getSourceType(c);return{type:y,payload:{itemType:l,item:d,sourceId:c,clientOffset:i||null,sourceClientOffset:u||null,isSourcePublic:!!n}}}}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function N(e){return function(t={}){const r=e.getMonitor(),n=e.getRegistry();!function(e){p(e.isDragging(),"Cannot call drop while not dragging."),p(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const i=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(r);i.forEach(((i,o)=>{const s=function(e,t,r,n){const i=r.getTarget(e);let o=i?i.drop(n,e):void 0;(function(e){p(void 0===e||v(e),"Drop result must either be an object or undefined.")})(o),void 0===o&&(o=0===t?{}:n.getDropResult());return o}(i,o,n,r),a={type:O,payload:{dropResult:C({},t,s)}};e.dispatch(a)}))}}function P(e){return function(){const t=e.getMonitor(),r=e.getRegistry();!function(e){p(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const n=t.getSourceId();if(null!=n){r.getSource(n,!0).endDrag(t,n),r.unpinSource()}return{type:E}}}function x(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function R(e){return function(t,{clientOffset:r}={}){!function(e){p(Array.isArray(e),"Expected targetIds to be an array.")}(t);const n=t.slice(0),i=e.getMonitor(),o=e.getRegistry();return function(e,t,r){for(let n=e.length-1;n>=0;n--){const i=e[n];x(t.getTargetType(i),r)||e.splice(n,1)}}(n,o,i.getItemType()),function(e,t,r){p(t.isDragging(),"Cannot call hover while not dragging."),p(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){const n=e[t];p(e.lastIndexOf(n)===t,"Expected targetIds to be unique in the passed array.");p(r.getTarget(n),"Expected targetIds to be registered.")}}(n,i,o),function(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}(n,i,o),{type:b,payload:{targetIds:n,clientOffset:r||null}}}}function M(e){return function(){if(e.getMonitor().isDragging())return{type:D}}}class k{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const r=function(e){return{beginDrag:S(e),publishDragSource:M(e),hover:R(e),drop:N(e),endDrag:P(e)}}(this);return Object.keys(r).reduce(((n,i)=>{const o=r[i];var s;return n[i]=(s=o,(...r)=>{const n=s.apply(e,r);void 0!==n&&t(n)}),n}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function _(e,t){return{x:e.x-t.x,y:e.y-t.y}}const j=[],L=[];j.__IS_NONE__=!0,L.__IS_ALL__=!0;class A{subscribeToStateChange(e,t={}){const{handlerIds:r}=t;p("function"==typeof e,"listener must be a function."),p(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),i=t.stateId;try{const o=i===n||i===n+1&&!function(e,t){return e!==j&&(e===L||void 0===t||(r=e,t.filter((e=>r.indexOf(e)>-1))).length>0);var r}(t.dirtyHandlerIds,r);o||e()}finally{n=i}}))}subscribeToOffsetChange(e){p("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const r=this.store.getState().dragOffset;r!==t&&(t=r,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return p(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(p(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return x(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(p(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();if(i&&!x(n,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const s=o.indexOf(e);return r?s===o.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return t&&r&&n?_((o=n,{x:(i=t).x+o.x,y:i.y+o.y}),r):null;var i,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:r}=e;return t&&r?_(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const H="undefined"!=typeof global?global:self,U=H.MutationObserver||H.WebKitMutationObserver;function B(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const V="function"==typeof U?function(e){let t=1;const r=new U(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:B;class F{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const q=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=V(this.flush),this.requestErrorThrow=B((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},Y=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new F(this.onError,(e=>t[t.length]=e));return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(q.registerPendingError);const G="dnd-core/ADD_SOURCE",X="dnd-core/ADD_TARGET",W="dnd-core/REMOVE_SOURCE",K="dnd-core/REMOVE_TARGET";function $(e,t){t&&Array.isArray(e)?e.forEach((e=>$(e,!1))):p("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var z;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(z||(z={}));let J=0;function Q(e){const t=(J++).toString();switch(e){case z.SOURCE:return`S${t}`;case z.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Z(e){switch(e[0]){case"S":return z.SOURCE;case"T":return z.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function ee(e,t){const r=e.entries();let n=!1;do{const{done:e,value:[,i]}=r.next();if(i===t)return!0;n=!!e}while(!n);return!1}class te{addSource(e,t){$(e),function(e){p("function"==typeof e.canDrag,"Expected canDrag to be a function."),p("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),p("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const r=this.addHandler(z.SOURCE,e,t);return this.store.dispatch(function(e){return{type:G,payload:{sourceId:e}}}(r)),r}addTarget(e,t){$(e,!0),function(e){p("function"==typeof e.canDrop,"Expected canDrop to be a function."),p("function"==typeof e.hover,"Expected hover to be a function."),p("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const r=this.addHandler(z.TARGET,e,t);return this.store.dispatch(function(e){return{type:X,payload:{targetId:e}}}(r)),r}containsHandler(e){return ee(this.dragSources,e)||ee(this.dropTargets,e)}getSource(e,t=!1){p(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return p(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return p(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return p(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Z(e)===z.SOURCE}isTargetId(e){return Z(e)===z.TARGET}removeSource(e){var t;p(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:W,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},q.enqueueTask(Y.create(t))}removeTarget(e){p(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:K,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);p(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){p(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const n=Q(e);return this.types.set(n,t),e===z.SOURCE?this.dragSources.set(n,r):e===z.TARGET&&this.dropTargets.set(n,r),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const re=(e,t)=>e===t;function ne(e=j,t){switch(t.type){case b:break;case G:case X:case K:case W:return j;default:return L}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,i=function(e,t){const r=new Map,n=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);const i=[];return r.forEach(((e,t)=>{1===e&&i.push(t)})),i}(r,n);if(!(i.length>0||!function(e,t,r=re){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}(r,n)))return j;const o=n[n.length-1],s=r[r.length-1];return o!==s&&(o&&i.push(o),s&&i.push(s)),i}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const oe={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function se(e=oe,t){const{payload:r}=t;switch(t.type){case m:case y:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case b:return n=e.clientOffset,i=r.clientOffset,!n&&!i||n&&i&&n.x===i.x&&n.y===i.y?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ie(e,t,r[t])}))}return e}({},e,{clientOffset:r.clientOffset});case E:case O:return oe;default:return e}var n,i}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ae(e,t,r[t])}))}return e}const ue={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function de(e=ue,t){const{payload:r}=t;switch(t.type){case y:return ce({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case D:return ce({},e,{isSourcePublic:!0});case b:return ce({},e,{targetIds:r.targetIds});case K:return-1===e.targetIds.indexOf(r.targetId)?e:ce({},e,{targetIds:(n=e.targetIds,i=r.targetId,n.filter((e=>e!==i)))});case O:return ce({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case E:return ce({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var n,i}function le(e=0,t){switch(t.type){case G:case X:return e+1;case W:case K:return e-1;default:return e}}function ge(e=0){return e+1}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){he(e,t,r[t])}))}return e}function pe(e={},t){return{dirtyHandlerIds:ne(e.dirtyHandlerIds,{type:t.type,payload:fe({},t.payload,{prevTargetIds:(r=e,n="dragOperation.targetIds",i=[],n.split(".").reduce(((e,t)=>e&&e[t]?e[t]:i||null),r))})}),dragOffset:se(e.dragOffset,t),refCount:le(e.refCount,t),dragOperation:de(e.dragOperation,t),stateId:ge(e.stateId)};var r,n,i}function ve(e,t=void 0,r={},n=!1){const i=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return f(pe,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n),o=new A(i,new te(i)),s=new k(i,o),a=e(s,t,r);return s.receiveBackend(a),s}function me(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}let ye=0;const De=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var be=e.memo((function(t){var{children:r}=t,n=me(t,["children"]);const[o,s]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e,t=Oe(),r,n){const i=t;i[De]||(i[De]={dragDropManager:ve(e,t,r,n)});return i[De]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(n);return e.useEffect((()=>{if(s){const e=Oe();return++ye,()=>{0==--ye&&(e[De]=null)}}}),[]),i.jsx(a.Provider,{value:o,children:r})}));function Oe(){return"undefined"!=typeof global?global:window}function Ee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ie=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r},Te=Ee(Ie);const Se="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;function we(t,r,n){const[i,o]=function(t,r,n){const[i,o]=e.useState((()=>r(t))),s=e.useCallback((()=>{const e=r(t);Te(i,e)||(o(e),n&&n())}),[i,t,n]);return Se(s),[i,s]}(t,r,n);return Se((function(){const e=t.getHandlerId();if(null!=e)return t.subscribeToStateChange(o,{handlerIds:[e]})}),[t,o]),i}function Ce(e,t,r){return we(t,e||(()=>({})),(()=>r.reconnect()))}function Ne(t,r){const n=[...r||[]];return null==r&&"function"!=typeof t&&n.push(t),e.useMemo((()=>"function"==typeof t?t():t),n)}function Pe(t){return e.useMemo((()=>t.hooks.dragSource()),[t])}function xe(t){return e.useMemo((()=>t.hooks.dragPreview()),[t])}let Re=!1,Me=!1;class ke{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){p(!Re,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Re=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Re=!1}}isDragging(){if(!this.sourceId)return!1;p(!Me,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Me=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Me=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let _e=!1;class je{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;p(!_e,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return _e=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{_e=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Le(e,t,r,n){let i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let s=0;s<o.length;s++){const c=o[s];if(!a(c))return!1;const u=e[c],d=t[c];if(i=r?r.call(n,u,d,c):void 0,!1===i||void 0===i&&u!==d)return!1}return!0}function Ae(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function He(t){return(r=null,n=null)=>{if(!e.isValidElement(r)){const e=r;return t(e,n),e}const i=r;!function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(i);return function(t,r){const n=t.ref;return p("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?e.cloneElement(t,{ref:e=>{Be(n,e),Be(r,e)}}):e.cloneElement(t,{ref:r})}(i,n?e=>t(e,n):t)}}function Ue(e){const t={};return Object.keys(e).forEach((r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const e=He(n);t[r]=()=>e}})),t}function Be(e,t){"function"==typeof e?e(t):e.current=t}class Ve{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();r&&this.disconnectDragPreview(),this.handlerId&&(t?r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Le(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Le(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Ue({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Ae(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Ae(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Fe{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Le(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Ue({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Ae(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function qe(){const{dragDropManager:t}=e.useContext(a);return p(null!=t,"Expected drag drop context"),t}class Ye{beginDrag(){const e=this.spec,t=this.monitor;let r=null;return r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=r?r:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const r=this.spec,n=this.monitor,{isDragging:i}=r;return i?i(n):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,r=this.connector,{end:n}=e;n&&n(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function Ge(t,r,n){const i=qe(),o=function(t,r,n){const i=e.useMemo((()=>new Ye(t,r,n)),[r,n]);return e.useEffect((()=>{i.spec=t}),[t]),i}(t,r,n),s=function(t){return e.useMemo((()=>{const e=t.type;return p(null!=e,"spec.type must be defined"),e}),[t])}(t);Se((function(){if(null!=s){const[e,t]=function(e,t,r){const n=r.getRegistry(),i=n.addSource(e,t);return[i,()=>n.removeSource(i)]}(s,o,i);return r.receiveHandlerId(e),n.receiveHandlerId(e),t}}),[i,r,n,o,s])}function Xe(t,r){const n=Ne(t,r);p(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=function(){const t=qe();return e.useMemo((()=>new ke(t)),[t])}(),o=function(t,r){const n=qe(),i=e.useMemo((()=>new Ve(n.getBackend())),[n]);return Se((()=>(i.dragSourceOptions=t||null,i.reconnect(),()=>i.disconnectDragSource())),[i,t]),Se((()=>(i.dragPreviewOptions=r||null,i.reconnect(),()=>i.disconnectDragPreview())),[i,r]),i}(n.options,n.previewOptions);return Ge(n,i,o),[Ce(n.collect,i,o),Pe(o),xe(o)]}function We(t){return e.useMemo((()=>t.hooks.dropTarget()),[t])}class Ke{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function $e(t,r,n){const i=qe(),o=function(t,r){const n=e.useMemo((()=>new Ke(t,r)),[r]);return e.useEffect((()=>{n.spec=t}),[t]),n}(t,r),s=function(t){const{accept:r}=t;return e.useMemo((()=>(p(null!=t.accept,"accept must be defined"),Array.isArray(r)?r:[r])),[r])}(t);Se((function(){const[e,t]=function(e,t,r){const n=r.getRegistry(),i=n.addTarget(e,t);return[i,()=>n.removeTarget(i)]}(s,o,i);return r.receiveHandlerId(e),n.receiveHandlerId(e),t}),[i,r,o,n,s.map((e=>e.toString())).join("|")])}function ze(t,r){const n=Ne(t,r),i=function(){const t=qe();return e.useMemo((()=>new je(t)),[t])}(),o=function(t){const r=qe(),n=e.useMemo((()=>new Fe(r.getBackend())),[r]);return Se((()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget())),[t]),n}(n.options);return $e(n,i,o),[Ce(n.collect,i,o),We(o)]}var Je=function(r){var n=r.icon,i=r.onClick;r.variant,r.disabled;return e.createElement(t.IconButton,{onClick:function(e){e.preventDefault(),i(e)}},n)},Qe=function(r){var n=r.label,i=r.onClick,s={primary:n,primaryTypographyProps:{color:"textPrimary"}};return e.createElement(t.MenuItem,{onClick:function(e){e.preventDefault(),i()},dense:!0},e.createElement(t.ListItemText,o({},s)))},Ze=function(r){var n=e.useState(null),i=n[0],s=n[1],a=r.items;r.label;var c=r.icon;r.variant;var u=function(){s(null)},d={open:Boolean(i),anchorEl:i,onClose:u,MenuListProps:{onMouseLeave:u}},l=a.map((function(e){return o(o({},e),{onClick:function(){u(),e.onClick()}})}));return e.createElement(e.Fragment,null,e.createElement(Je,{icon:c,onClick:function(e){s(e.currentTarget)}}),e.createElement(t.Menu,o({},d),l.map((function(t,r){return e.createElement(Qe,o({key:r},t))}))))},et=function(t){var r=t.actions.map((function(e){return{label:e.label,onClick:e.onClick}}));return e.createElement(Ze,{items:r,icon:e.createElement(n.MoreVert,null)})},tt=e.createContext({pending:!1}),rt=function(r){var n=s(),i=r.primaryText,a=r.primaryAction,c=null==a?void 0:a.clickAction,u=null==a?void 0:a.navigateToURL,d={variant:"body1",children:Boolean(u)?e.createElement(t.Link,{href:u},e.createElement("span",{className:n.clickable},i)):e.createElement("span",{onClick:c,className:Boolean(c)?n.clickable:void 0},i)};return e.createElement(t.Typography,o({},d))},nt=function(r){var i=t.useTheme(),o=s(),a=r.adapter,c=a.itemID,u=a.itemType,d=a.dragData,l=a.canDrop,g=a.onDrop,h=a.disableDrag,f=Xe((function(){return{type:u,item:d,collect:function(e){return{isDragging:e.isDragging()}},canDrag:!h}})),p=f[0],v=f[1],m=f[2],y=ze((function(){return{accept:"group"===u?["group","item"]:["item"],collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}},canDrop:function(e){return e.itemID!==d.itemID&&l(e)},drop:function(e){return g(e),e}}})),D=y[0],b=y[1],O=p.isDragging,E=!h,I=D.isOver,T=D.canDrop,S={borderBottom:I&&T?"2rem solid ".concat(i.palette.primary.light):""};return e.createElement("div",{ref:m,style:{opacity:O?.5:1}},e.createElement("div",{className:o.treeItem,ref:b,style:S},r.children,E&&e.createElement("div",{id:c,ref:v,style:{cursor:"grab"}},e.createElement(n.DragIndicator,null))))},it=function(n){var i=s(),o=function(){var t=e.useContext(tt);if(!t)throw Error("Tree Context not provided");return t}().pending,a=n.adapter,c=a.primaryText,u=a.secondaryText,d=a.actions,l=a.primaryAction,g=Boolean(n.dragDropAdapter),h=d&&d.length>0,f={flex:1},p=o?e.createElement("div",{style:f},e.createElement(r.Skeleton,{variant:"rect",animation:"wave"}),e.createElement(r.Skeleton,{variant:"rect",animation:"wave"})):e.createElement("div",{style:f},e.createElement(rt,{primaryText:c,primaryAction:l}),Boolean(u)&&e.createElement(t.Typography,{variant:"body2",className:i.secondaryText},u));return g?e.createElement(nt,{adapter:n.dragDropAdapter},p,h&&e.createElement(et,{actions:d})):e.createElement("div",null,e.createElement("div",{className:i.treeItem},p,h&&e.createElement(et,{actions:d})))},ot=function(t){var n=t.adapter,i=n.id,s=n.childItems,a={nodeId:i,label:e.createElement(it,o({},t)),children:null==s?void 0:s.map((function(t){return e.createElement(ot,o({},t))}))};return e.createElement(r.TreeItem,o({},a))};function st(e){let t=null;return()=>(null==t&&(t=e()),t)}class at{enter(e){const t=this.entered.length;return this.entered=function(e,t){const r=new Set,n=e=>r.add(e);e.forEach(n),t.forEach(n);const i=[];return r.forEach((e=>i.push(e))),i}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var r,n;return this.entered=(r=this.entered.filter(this.isNodeInDocument),n=e,r.filter((e=>e!==n))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class ct{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((r=>{const n=this.config.exposeProperties[r];null!=n&&(t[r]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const ut="__NATIVE_FILE__",dt="__NATIVE_URL__",lt="__NATIVE_TEXT__",gt="__NATIVE_HTML__";var ht=Object.freeze({__proto__:null,FILE:ut,HTML:gt,TEXT:lt,URL:dt});function ft(e,t,r){const n=t.reduce(((t,r)=>t||e.getData(r)),"");return null!=n?n:r}const pt={[ut]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[gt]:{exposeProperties:{html:(e,t)=>ft(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[dt]:{exposeProperties:{urls:(e,t)=>ft(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[lt]:{exposeProperties:{text:(e,t)=>ft(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function vt(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(pt).filter((e=>{const r=pt[e];return!!(null==r?void 0:r.matchesTypes)&&r.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const mt=st((()=>/firefox/i.test(navigator.userAgent))),yt=st((()=>Boolean(window.safari)));class Dt{interpolate(e){const{xs:t,ys:r,c1s:n,c2s:i,c3s:o}=this;let s=t.length-1;if(e===t[s])return r[s];let a,c=0,u=o.length-1;for(;c<=u;){a=Math.floor(.5*(c+u));const n=t[a];if(n<e)c=a+1;else{if(!(n>e))return r[a];u=a-1}}s=Math.max(0,u);const d=e-t[s],l=d*d;return r[s]+n[s]*d+i[s]*l+o[s]*d*l}constructor(e,t){const{length:r}=e,n=[];for(let e=0;e<r;e++)n.push(e);n.sort(((t,r)=>e[t]<e[r]?-1:1));const i=[],o=[];let s,a;for(let n=0;n<r-1;n++)s=e[n+1]-e[n],a=t[n+1]-t[n],i.push(s),o.push(a/s);const c=[o[0]];for(let e=0;e<i.length-1;e++){const t=o[e],r=o[e+1];if(t*r<=0)c.push(0);else{s=i[e];const n=i[e+1],o=s+n;c.push(3*o/((o+n)/t+(o+s)/r))}}c.push(o[o.length-1]);const u=[],d=[];let l;for(let e=0;e<c.length-1;e++){l=o[e];const t=c[e],r=1/i[e],n=t+c[e+1]-l-l;u.push((l-t-n)*r),d.push(n*r*r)}this.xs=e,this.ys=t,this.c1s=c,this.c2s=u,this.c3s=d}}const bt=1;function Ot(e){const t=e.nodeType===bt?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function Et(e){return{x:e.clientX,y:e.clientY}}function It(e,t,r,n,i){const o="IMG"===(s=t).nodeName&&(mt()||!(null===(a=document.documentElement)||void 0===a?void 0:a.contains(s)));var s,a;const c=Ot(o?e:t),u={x:r.x-c.x,y:r.y-c.y},{offsetWidth:d,offsetHeight:l}=e,{anchorX:g,anchorY:h}=n,{dragPreviewWidth:f,dragPreviewHeight:p}=function(e,t,r,n){let i=e?t.width:r,o=e?t.height:n;return yt()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,t,d,l),{offsetX:v,offsetY:m}=i,y=0===m||m;return{x:0===v||v?v:new Dt([0,.5,1],[u.x,u.x/d*f,u.x+f-d]).interpolate(g),y:y?m:(()=>{let e=new Dt([0,.5,1],[u.y,u.y/l*p,u.y+p-l]).interpolate(h);return yt()&&o&&(e+=(window.devicePixelRatio-1)*p),e})()}}class Tt{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){St(e,t,r[t])}))}return e}class Ct{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const n=t=>this.handleDragStart(t,e),i=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=t=>this.handleDragEnter(t,e),n=t=>this.handleDragOver(t,e),i=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",n),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",n),t.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return wt({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return wt({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ht).some((t=>ht[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const r=pt[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new ct(r);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Ot(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const r=Et(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});const{dataTransfer:n}=e,i=vt(n);if(this.monitor.isDragging()){if(n&&"function"==typeof n.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),i=this.sourcePreviewNodes.get(e)||t;if(i){const{anchorX:e,anchorY:o,offsetX:s,offsetY:a}=this.getCurrentSourcePreviewNodeOptions(),c=It(t,i,r,{anchorX:e,anchorY:o},{offsetX:s,offsetY:a});n.setDragImage(i,c.x,c.y)}}try{null==n||n.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:r}=e,n=vt(r);n&&this.beginDragNativeItem(n,r)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:Et(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=Et(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):vt(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:Et(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new Tt(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new at(this.isNodeInDocument)}}const Nt=function(e,t,r){return new Ct(e,t,r)};var Pt=function(t){var r=e.useState(null),n=r[0],i=r[1];return e.useEffect((function(){i(document.getElementById(t.rootElementID))}),[t.rootElementID]),console.log(n),n?e.createElement(be,{backend:Nt,options:{rootElement:n}},t.children):null},xt=function(t){var r=t.treeID,n=t.items;return e.createElement(Pt,{rootElementID:r},n.map((function(t){return e.createElement(ot,o({},t))})))};exports.ArtisanUXProvider=function(r){var n=t.createTheme({palette:{primary:r.primaryColor,background:{default:"#F5F5F6"}}});return e.createElement(t.ThemeProvider,{theme:n},r.children)},exports.ButtonBar=function(r){var n=r.buttons,i=r.leftAlign,o=r.leftContent,s=r.endContent,a=r.disabled,c=r.disableButtonStyling,u=n.length;return e.createElement("div",{style:{display:"flex",flexDirection:"row"}},o,!i&&e.createElement("div",{style:{flexGrow:1}}),!i&&s,r.buttons.map((function(r,n){var o=n+1===u,s="outlined";return c||(i?0===n&&(s="contained"):o&&(s="contained")),e.createElement(t.Button,{onClick:r.onClick,key:n,variant:s,color:"primary",style:{marginRight:o?"0rem":"0.5rem",textTransform:"none"},disabled:a||r.disabled,disableElevation:!0,size:"small"},r.label)})))},exports.Tree=function(t){var i=t.treeID,s={pending:Boolean(t.pending)};return e.createElement(tt.Provider,{value:s},e.createElement("div",{id:i},e.createElement(r.TreeView,{defaultCollapseIcon:e.createElement(n.KeyboardArrowDown,null),defaultExpandIcon:e.createElement(n.KeyboardArrowRight,null)},e.createElement(xt,o({},t)))))};
//# sourceMappingURL=index.js.map
